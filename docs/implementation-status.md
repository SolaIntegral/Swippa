# Visuy Cast - 実装状況と優先順位

## 実装済み機能 ✅

### 認証・基本機能
- ✅ Google認証（サインアップ/ログイン）
- ✅ フッターナビゲーション（モバイル最適化）
- ✅ テーマ切り替え（ライト/ダーク）
- ✅ ページ遷移システム

### スケジュール管理（部分実装）
- ✅ スケジュール画面（Today/Week/Month）
- ✅ 固定予定のドラッグ追加（Todayビューのみ）
- ✅ ブロック編集・削除（Todayビューのみ）
- ✅ ローカルストレージでのデータ保存
- ⚠️ なぞり入力（簡易版のみ、週ビュー未対応）

---

## 未実装機能と優先順位

### 🔴 最優先（Phase 1: コアバリュー実現）

#### 1. メイン画面（ON/OFFモード）- 最優先
**優先度**: 🔴 最高  
**機能ID**: F004  
**推定工数**: 中（3-5日）

**実装内容**:
- OFFモード（デフォルト画面）: 公認サボり、キャラクター表示
- ONモード（集中画面）: AIタスク提案、スワイプUI、タイマー
- モード切替ボタン
- キャラクター（共感者）の表示

**理由**:
- Visuy Castのコアコンセプト「公認サボり＆集中プランナー」の実現
- ペルソナ「張杉 翔」くんの最大の課題解決に直結
- 他の機能（タスク提案、AIリスケ）の基盤となる

**依存関係**:
- タスク登録機能（F002）が必要
- キャラクターコンポーネントが必要

---

#### 2. タスク登録機能（FAB + 感情マトリクス）
**優先度**: 🔴 最高  
**機能ID**: F002, F003  
**推定工数**: 中（3-4日）

**実装内容**:
- FAB（フローティングアクションボタン）を全画面に配置
- タスク追加画面（モーダル）
- 感情マトリクス入力（2軸グラフ: 達成感×抵抗感）
- タスク名、締切入力
- Firestoreへの保存

**理由**:
- ペルソナの最大ペインポイント「タスクの存在自体を忘れる」を解決
- AI推論の基盤データ（感情マトリクス）の収集
- メイン画面のAIタスク提案に必要

**依存関係**:
- Firestore連携が必要
- 感情マトリクスUIコンポーネントが必要

---

#### 3. AIタスク提案（スワイプUI）
**優先度**: 🔴 最高  
**機能ID**: F005  
**推定工数**: 中（3-4日）

**実装内容**:
- ONモードでのAI推論ロジック（簡易版）
- タスクカードの表示
- スワイプ操作（右: 今やる、左: AIに任せる）
- タイマー機能（ポモドーロ対応）

**理由**:
- Visuy Castの差別化ポイント「AIによる能動的サポート」
- ペルソナの「面倒くささ」を解決する直感的UI
- コアバリュー「やる気の波に合わせた提案」の実現

**依存関係**:
- タスク登録機能（F002）が必要
- メイン画面（ONモード）が必要
- AI推論ロジック（簡易版）が必要

---

### 🟡 高優先度（Phase 2: 体験向上）

#### 4. AI自動リスケジュール
**優先度**: 🟡 高  
**機能ID**: F006  
**推定工数**: 中（2-3日）

**実装内容**:
- スワイプ左時の「AIに任せる」処理
- 最適な時間帯の自動計算
- スケジュールへの自動配置
- ユーザーへの通知

**理由**:
- 「後回し」の罪悪感を「リスケ依頼」に変換
- AIの能動的サポートの体現
- ペルソナの罪悪感排除に直結

**依存関係**:
- AIタスク提案（F005）が必要
- Firestore連携が必要

---

#### 5. オンボーディング画面
**優先度**: 🟡 高  
**機能ID**: S001  
**推定工数**: 中（2-3日）

**実装内容**:
- 4ステップのプログレッシブオンボーディング
- なぞり入力のチュートリアル
- 感情マトリクスの説明
- 最初のタスク登録体験

**理由**:
- ペルソナの「入力が面倒くさい」という離脱リスクを解決
- アプリの価値を初回体験で伝える
- 継続利用率の向上に寄与

**依存関係**:
- タスク登録機能（F002）が必要
- 感情マトリクスUIが必要

---

#### 6. Firestore連携
**優先度**: 🟡 高  
**機能ID**: インフラ  
**推定工数**: 中（2-3日）

**実装内容**:
- ローカルストレージからFirestoreへの移行
- ユーザーごとのデータ分離
- リアルタイム同期
- オフライン対応（オプション）

**理由**:
- 複数デバイスでの利用
- データの永続化と安全性
- スケーラビリティの確保

**依存関係**:
- Google認証（実装済み）
- Firestore Security Rules設定が必要

---

### 🟢 中優先度（Phase 3: 機能拡張）

#### 7. ポジティブ・ダッシュボード
**優先度**: 🟢 中  
**機能ID**: F008  
**推定工数**: 中（3-4日）

**実装内容**:
- 行動タイプ診断（夜型/スロースターター等）
- 質的成長指標の表示
- やる気の波分析（グラフ）
- 自己効力感を高めるフィードバック

**理由**:
- ペルソナの自己嫌悪回避
- 継続利用のモチベーション維持
- データ活用による価値提供

**依存関係**:
- タスク実行データの蓄積が必要
- Firestore連携が必要

---

#### 8. 自動フォールバック（自動サボり検知）
**優先度**: 🟢 中  
**機能ID**: F007  
**推定工数**: 小（1-2日）

**実装内容**:
- ONモード中の放置検知
- 自動でOFFモードへの切替
- ユーザーへの通知

**理由**:
- 罪悪感の軽減
- AIによる能動的サポートの体現

**依存関係**:
- メイン画面（ON/OFFモード）が必要
- タイマー機能が必要

---

#### 9. 週ビューでのなぞり入力
**優先度**: 🟢 中  
**機能ID**: F001（拡張）  
**推定工数**: 小（1-2日）

**実装内容**:
- 週ビューでのドラッグ操作
- 複数日へのなぞり入力
- 繰り返し予定の設定

**理由**:
- ペルソナの「入力が面倒くさい」をさらに解決
- 既存機能の拡張

**依存関係**:
- スケジュール画面（実装済み）

---

### 🔵 低優先度（Phase 4: 将来拡張）

#### 10. 共感者キャラクター（詳細実装）
**優先度**: 🔵 低  
**機能ID**: F009  
**推定工数**: 中（2-3日）

**実装内容**:
- キャラクターのアニメーション
- モードに応じた表情変化
- 共感的メッセージ表示

**理由**:
- UXの向上
- モチベーション維持

**依存関係**:
- メイン画面（ON/OFFモード）が必要

---

#### 11. 高度なAI推論
**優先度**: 🔵 低  
**機能ID**: AI拡張  
**推定工数**: 大（5-7日）

**実装内容**:
- 機械学習モデルの統合
- キャパシティ計算の精度向上
- パーソナライズされた提案

**理由**:
- 長期的な価値向上
- 差別化の強化

**依存関係**:
- データの蓄積が必要
- AI推論ロジック（簡易版）が必要

---

## 実装ロードマップ

### Phase 1: コアバリュー実現（優先度最高）
**目標**: Visuy Castのコアコンセプトを実現

1. **タスク登録機能（FAB + 感情マトリクス）** - 基盤データ収集
2. **メイン画面（ON/OFFモード）** - コア体験
3. **AIタスク提案（スワイプUI）** - 差別化ポイント

**完了後**: MVP（最小限の価値提供）が完成

---

### Phase 2: 体験向上（優先度高）
**目標**: ユーザー体験の向上と継続利用の促進

4. **Firestore連携** - データの永続化
5. **オンボーディング画面** - 初回体験の最適化
6. **AI自動リスケジュール** - AIサポートの強化

**完了後**: 実用的なプロダクトとして機能

---

### Phase 3: 機能拡張（優先度中）
**目標**: 付加価値の提供とリテンション向上

7. **ポジティブ・ダッシュボード** - モチベーション維持
8. **自動フォールバック** - UX改善
9. **週ビューでのなぞり入力** - 機能拡張

**完了後**: 競合優位性の確立

---

### Phase 4: 将来拡張（優先度低）
**目標**: 長期的な価値向上

10. **共感者キャラクター（詳細）** - UX向上
11. **高度なAI推論** - 差別化強化

---

## 推奨実装順序

### 最短ルート（MVP実現）
1. タスク登録機能（FAB + 感情マトリクス）
2. メイン画面（ON/OFFモード）
3. AIタスク提案（スワイプUI）- 簡易版

**完了目安**: 2-3週間

### 実用的なプロダクト化
1-3. 上記に加えて
4. Firestore連携
5. オンボーディング画面
6. AI自動リスケジュール

**完了目安**: 4-5週間

---

## 注意事項

### 技術的依存関係
- Firestore連携は早期に実装することを推奨（データの永続化）
- タスク登録機能は他の機能の基盤となるため最優先
- AI推論は最初は簡易版（固定ルール）で実装し、後で改善

### ペルソナへの配慮
- すべての機能で「張杉 翔」くんの「面倒くささ」「罪悪感」を考慮
- UI/UXは常に直感的でシンプルに
- ネガティブな表現は避け、ポジティブなフィードバックを

---

**最終更新**: 2024年12月
